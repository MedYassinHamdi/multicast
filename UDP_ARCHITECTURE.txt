â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      ARCHITECTURE UDP - VUE D'ENSEMBLE                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  COMPOSANTS DU SYSTÃˆME
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            CLIENT UDP (UDPClientGUI)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ INTERFACE GRAPHIQUE                                                   â”‚ â”‚
â”‚  â”‚  â€¢ Champs: Pseudo, Serveur, Port                                      â”‚ â”‚
â”‚  â”‚  â€¢ Boutons: Connecter, DÃ©connecter, Envoyer, Fichier, RafraÃ®chir     â”‚ â”‚
â”‚  â”‚  â€¢ Zone de chat avec images inline                                    â”‚ â”‚
â”‚  â”‚  â€¢ Liste dÃ©roulante des destinataires                                 â”‚ â”‚
â”‚  â”‚  â€¢ Zone de logs techniques                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                      â”‚
â”‚                                      â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ LOGIQUE RÃ‰SEAU                                                        â”‚ â”‚
â”‚  â”‚  â€¢ DatagramSocket socket                                              â”‚ â”‚
â”‚  â”‚  â€¢ InetAddress serverAddress                                          â”‚ â”‚
â”‚  â”‚  â€¢ Thread listenerThread (Ã©coute continue)                            â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  MÃ©thodes:                                                            â”‚ â”‚
â”‚  â”‚    connect()        â†’ CrÃ©e socket et dÃ©marre thread                  â”‚ â”‚
â”‚  â”‚    sendText()       â†’ Envoie Message(TEXTE)                           â”‚ â”‚
â”‚  â”‚    sendFile()       â†’ Envoie Message(FICHIER)                         â”‚ â”‚
â”‚  â”‚    listenLoop()     â†’ ReÃ§oit et traite les messages                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                      â”‚
â”‚                                      â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ SÃ‰RIALISATION                                                         â”‚ â”‚
â”‚  â”‚  Message msg = new Message(...)                                       â”‚ â”‚
â”‚  â”‚  byte[] data = msg.toBytes()        // Objet â†’ bytes                 â”‚ â”‚
â”‚  â”‚  DatagramPacket pkt = new DatagramPacket(data, ...)                  â”‚ â”‚
â”‚  â”‚  socket.send(pkt)                   // Envoi UDP                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚ DatagramPacket (UDP)
                                      â”‚ Port: 6000 (dÃ©faut)
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SERVEUR UDP (UDPServerGUI)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ INTERFACE GRAPHIQUE                                                   â”‚ â”‚
â”‚  â”‚  â€¢ Champ: Port                                                        â”‚ â”‚
â”‚  â”‚  â€¢ Boutons: DÃ©marrer, ArrÃªter                                         â”‚ â”‚
â”‚  â”‚  â€¢ Zone de logs serveur                                               â”‚ â”‚
â”‚  â”‚  â€¢ Label de statut et compteur de clients                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                      â”‚
â”‚                                      â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ RÃ‰CEPTION ET DÃ‰SÃ‰RIALISATION                                          â”‚ â”‚
â”‚  â”‚  DatagramPacket packet = new DatagramPacket(buffer, ...)             â”‚ â”‚
â”‚  â”‚  socket.receive(packet)             // Attente bloquante             â”‚ â”‚
â”‚  â”‚  Message msg = Message.fromBytes(data)  // bytes â†’ Objet             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                      â”‚
â”‚                                      â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ GESTION DES CLIENTS                                                   â”‚ â”‚
â”‚  â”‚  ConcurrentHashMap<String, ClientInfo> clients                        â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  ClientInfo {                                                         â”‚ â”‚
â”‚  â”‚      InetAddress address;    // IP du client                         â”‚ â”‚
â”‚  â”‚      int port;               // Port du client                       â”‚ â”‚
â”‚  â”‚      long lastSeen;          // Timestamp derniÃ¨re activitÃ©          â”‚ â”‚
â”‚  â”‚  }                                                                    â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  registerClient(pseudo, address, port)  // Enregistrement/MAJ        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                      â”‚
â”‚                                      â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ROUTAGE                                                               â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚  switch (msg.type) {                                                  â”‚ â”‚
â”‚  â”‚      case TEXTE:                                                      â”‚ â”‚
â”‚  â”‚          if (target == "Tous")                                        â”‚ â”‚
â”‚  â”‚              broadcastMessage(msg, sender);  // Ã€ tous sauf Ã©metteur â”‚ â”‚
â”‚  â”‚          else                                                         â”‚ â”‚
â”‚  â”‚              unicastMessage(msg, target);    // Ã€ un client          â”‚ â”‚
â”‚  â”‚          break;                                                       â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚      case FICHIER:                                                    â”‚ â”‚
â”‚  â”‚          // MÃªme logique que TEXTE                                    â”‚ â”‚
â”‚  â”‚          break;                                                       â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚      case LISTE:                                                      â”‚ â”‚
â”‚  â”‚          String list = String.join("\n", clients.keySet());          â”‚ â”‚
â”‚  â”‚          unicastMessage(responseMsg, sender);  // RÃ©ponse au demandeurâ”‚ â”‚
â”‚  â”‚          break;                                                       â”‚ â”‚
â”‚  â”‚  }                                                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚                                      â”‚
â”‚                                      â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ RETRANSMISSION                                                        â”‚ â”‚
â”‚  â”‚  byte[] data = msg.toBytes();                                         â”‚ â”‚
â”‚  â”‚  ClientInfo info = clients.get(target);                               â”‚ â”‚
â”‚  â”‚  DatagramPacket pkt = new DatagramPacket(data, ..., info.address,    â”‚ â”‚
â”‚  â”‚                                          info.port);                  â”‚ â”‚
â”‚  â”‚  socket.send(pkt);                  // Envoi UDP au client           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚ DatagramPacket (UDP)
                                      â–¼
                              CLIENT(S) DESTINATAIRE(S)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  FLUX DE DONNÃ‰ES: ENVOI D'UN MESSAGE TEXTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CLIENT "Alice"                SERVEUR                      CLIENT "Bob"
     â”‚                           â”‚                              â”‚
     â”‚ 1. Saisie du message      â”‚                              â”‚
     â”‚    "Salut Bob!"           â”‚                              â”‚
     â”‚                           â”‚                              â”‚
     â”‚ 2. Message msg = new      â”‚                              â”‚
     â”‚    Message(TEXTE,         â”‚                              â”‚
     â”‚    "Alice", "Bob",        â”‚                              â”‚
     â”‚    "Salut Bob!")          â”‚                              â”‚
     â”‚                           â”‚                              â”‚
     â”‚ 3. byte[] data =          â”‚                              â”‚
     â”‚    msg.toBytes()          â”‚                              â”‚
     â”‚    [SÃ©rialisation]        â”‚                              â”‚
     â”‚                           â”‚                              â”‚
     â”‚ 4. DatagramPacket pkt     â”‚                              â”‚
     â”‚    = new DatagramPacket   â”‚                              â”‚
     â”‚    (data, ..., serverIP,  â”‚                              â”‚
     â”‚     6000)                 â”‚                              â”‚
     â”‚                           â”‚                              â”‚
     â”‚ 5. socket.send(pkt)       â”‚                              â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                              â”‚
     â”‚        UDP PACKET         â”‚                              â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ 6. socket.receive(packet)    â”‚
     â”‚                           â”‚    [Bloquant jusqu'Ã  arrivÃ©e]â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ 7. byte[] data = packet.     â”‚
     â”‚                           â”‚    getData()                 â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ 8. Message msg =             â”‚
     â”‚                           â”‚    Message.fromBytes(data)   â”‚
     â”‚                           â”‚    [DÃ©sÃ©rialisation]         â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ 9. registerClient("Alice",   â”‚
     â”‚                           â”‚    aliceIP, alicePort)       â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ 10. if (msg.target == "Bob") â”‚
     â”‚                           â”‚     unicastMessage(msg, "Bob")â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ 11. ClientInfo bobInfo =     â”‚
     â”‚                           â”‚     clients.get("Bob")       â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ 12. DatagramPacket pkt =     â”‚
     â”‚                           â”‚     new DatagramPacket(      â”‚
     â”‚                           â”‚     data, ..., bobInfo.      â”‚
     â”‚                           â”‚     address, bobInfo.port)   â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ 13. socket.send(pkt)         â”‚
     â”‚                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
     â”‚                           â”‚        UDP PACKET            â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚                              â”‚ 14. socket.receive(pkt)
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚                              â”‚ 15. Message msg =
     â”‚                           â”‚                              â”‚     Message.fromBytes()
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚                              â”‚ 16. Affichage:
     â”‚                           â”‚                              â”‚     "ğŸ’¬ Alice â†’ Bob :
     â”‚                           â”‚                              â”‚      Salut Bob!"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  FLUX DE DONNÃ‰ES: BROADCAST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CLIENT "Alice"                SERVEUR                      CLIENTS (Bob, Charlie)
     â”‚                           â”‚                              â”‚
     â”‚ Message("TEXTE",          â”‚                              â”‚
     â”‚         "Alice",          â”‚                              â”‚
     â”‚         "Tous",           â”‚                              â”‚
     â”‚         "Hello!")         â”‚                              â”‚
     â”‚                           â”‚                              â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                              â”‚
     â”‚        UDP PACKET         â”‚                              â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ registerClient("Alice", ...) â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ if (target == "Tous")        â”‚
     â”‚                           â”‚   broadcastMessage(msg,      â”‚
     â”‚                           â”‚                   "Alice")   â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚ for (pseudo : clients) {     â”‚
     â”‚                           â”‚   if (pseudo != "Alice") {   â”‚
     â”‚                           â”‚     unicastMessage(msg,      â”‚
     â”‚                           â”‚                    pseudo)   â”‚
     â”‚                           â”‚   }                          â”‚
     â”‚                           â”‚ }                            â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Bob
     â”‚                           â”‚        UDP PACKET            â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Charlie
     â”‚                           â”‚        UDP PACKET            â”‚
     â”‚                           â”‚                              â”‚
     â”‚                           â”‚                              â”‚ Tous affichent:
     â”‚                           â”‚                              â”‚ "ğŸ’¬ Alice : Hello!"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  STRUCTURE DE LA CLASSE MESSAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          CLASS: Message                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  enum Type {                                                                â”‚
â”‚      TEXTE,      // Message de chat textuel                                â”‚
â”‚      FICHIER,    // Transfert de fichier                                   â”‚
â”‚      LISTE       // Liste des clients connectÃ©s                            â”‚
â”‚  }                                                                          â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ATTRIBUTS                                                             â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ public Type type;           // Type du message                        â”‚ â”‚
â”‚  â”‚ public String sender;       // Pseudo Ã©metteur                        â”‚ â”‚
â”‚  â”‚ public String target;       // Pseudo destinataire ou "Tous"          â”‚ â”‚
â”‚  â”‚ public String text;         // Contenu textuel                        â”‚ â”‚
â”‚  â”‚ public String filename;     // Nom du fichier (pour FICHIER)          â”‚ â”‚
â”‚  â”‚ public byte[] fileBytes;    // DonnÃ©es du fichier (pour FICHIER)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CONSTRUCTEURS                                                         â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Message(Type, sender, target, text)           // Pour TEXTE et LISTE  â”‚ â”‚
â”‚  â”‚ Message(Type, sender, target, filename, bytes) // Pour FICHIER        â”‚ â”‚
â”‚  â”‚ Message()                                      // Constructeur vide   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ MÃ‰THODES                                                              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ byte[] toBytes()                               // SÃ©rialisation       â”‚ â”‚
â”‚  â”‚   â””â”€â–º ByteArrayOutputStream + ObjectOutputStream                     â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚ static Message fromBytes(byte[])               // DÃ©sÃ©rialisation     â”‚ â”‚
â”‚  â”‚   â””â”€â–º ByteArrayInputStream + ObjectInputStream                       â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚ String toString()                              // Debug               â”‚ â”‚
â”‚  â”‚   â””â”€â–º "Message TEXTE de Alice vers Bob: Salut!"                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  SÃ‰RIALISATION JAVA EN DÃ‰TAIL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OBJET JAVA â†’ BYTES (msg.toBytes())                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Message msg = new Message(Type.TEXTE, "Alice", "Bob", "Salut!");
         â”‚
         â”‚ Objet en mÃ©moire:
         â”‚   type = TEXTE
         â”‚   sender = "Alice"
         â”‚   target = "Bob"
         â”‚   text = "Salut!"
         â”‚   filename = null
         â”‚   fileBytes = null
         â”‚
         â–¼
    ByteArrayOutputStream bos = new ByteArrayOutputStream();
         â”‚
         â”‚ Buffer mÃ©moire vide: []
         â”‚
         â–¼
    ObjectOutputStream oos = new ObjectOutputStream(bos);
         â”‚
         â”‚ En-tÃªte de stream ajoutÃ©: [0xAC, 0xED, 0x00, 0x05, ...]
         â”‚
         â–¼
    oos.writeObject(msg);
         â”‚
         â”‚ SÃ©rialisation rÃ©cursive:
         â”‚   - serialVersionUID
         â”‚   - Nom de la classe
         â”‚   - Descripteur des champs
         â”‚   - Valeurs des champs
         â”‚
         â–¼
    byte[] data = bos.toByteArray();
         â”‚
         â”‚ RÃ©sultat: [0xAC, 0xED, 0x00, 0x05, 0x73, 0x72, ...]
         â”‚ Taille: ~200-300 bytes pour message texte court
         â”‚
         â–¼
    PrÃªt Ã  Ãªtre envoyÃ© via DatagramPacket!


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BYTES â†’ OBJET JAVA (Message.fromBytes(data))                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    byte[] data = packet.getData();
         â”‚
         â”‚ DonnÃ©es brutes: [0xAC, 0xED, 0x00, 0x05, 0x73, 0x72, ...]
         â”‚
         â–¼
    ByteArrayInputStream bis = new ByteArrayInputStream(data);
         â”‚
         â”‚ Stream de lecture depuis le tableau
         â”‚
         â–¼
    ObjectInputStream ois = new ObjectInputStream(bis);
         â”‚
         â”‚ VÃ©rification de l'en-tÃªte de stream
         â”‚ VÃ©rification du serialVersionUID
         â”‚
         â–¼
    Object obj = ois.readObject();
         â”‚
         â”‚ DÃ©sÃ©rialisation:
         â”‚   - Lecture du descripteur de classe
         â”‚   - CrÃ©ation d'une instance vide
         â”‚   - Lecture et affectation des champs
         â”‚
         â–¼
    Message msg = (Message) obj;
         â”‚
         â”‚ Objet reconstruit:
         â”‚   type = TEXTE
         â”‚   sender = "Alice"
         â”‚   target = "Bob"
         â”‚   text = "Salut!"
         â”‚   filename = null
         â”‚   fileBytes = null
         â”‚
         â–¼
    Objet Message prÃªt Ã  Ãªtre utilisÃ©!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  GESTION DES THREADS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLIENT: Thread Principal + Thread d'Ã‰coute                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    [THREAD PRINCIPAL - EDT Swing]
           â”‚
           â”œâ”€â–º Interface graphique (Ã©vÃ©nements boutons, clics...)
           â”‚   â€¢ Bouton "Connecter" â†’ connect()
           â”‚   â€¢ Bouton "Envoyer" â†’ sendText()
           â”‚   â€¢ Bouton "Fichier" â†’ sendFile()
           â”‚
           â–¼
    [THREAD D'Ã‰COUTE - listenerThread]
           â”‚
           â””â”€â–º while (running) {
                   socket.receive(packet);    // Bloquant
                   Message msg = Message.fromBytes(...);
                   handleMessage(msg);        // Traitement
                   SwingUtilities.invokeLater(() -> {
                       appendText(...);       // Mise Ã  jour UI
                   });
               }

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVEUR: Thread Principal + Thread d'Ã‰coute                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    [THREAD PRINCIPAL - EDT Swing]
           â”‚
           â”œâ”€â–º Interface graphique (logs, statut...)
           â”‚   â€¢ Bouton "DÃ©marrer" â†’ startServer()
           â”‚   â€¢ Bouton "ArrÃªter" â†’ stopServer()
           â”‚
           â–¼
    [THREAD D'Ã‰COUTE - serverThread]
           â”‚
           â””â”€â–º while (running) {
                   socket.receive(packet);    // Bloquant
                   Message msg = Message.fromBytes(...);
                   registerClient(...);       // Thread-safe
                   routeMessage(msg);         // Broadcast/Unicast
                   SwingUtilities.invokeLater(() -> {
                       log(...);              // Mise Ã  jour UI
                   });
               }

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FIN DU DIAGRAMME - Pour plus de dÃ©tails, voir la documentation complÃ¨te.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

